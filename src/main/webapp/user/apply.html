<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜“å…¼èŒ - æŠ•é€’è®°å½•</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* ä¸»å†…å®¹æ ·å¼ */
        .main-container {
            display: flex;
            max-width: 1200px;
            margin: 0 auto;
            padding: 80px 20px 50px;
            gap: 30px;
        }

        .sidebar {
            width: 260px;
            flex-shrink: 0;
        }

        .profile-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .profile-avatar img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
            border: 3px solid #f1f1f1;
        }

        .profile-name {
            margin: 15px 0 5px;
            font-size: 18px;
            font-weight: 600;
        }

        .profile-role {
            color: #666;
            font-size: 14px;
            margin-bottom: 15px;
        }

        .edit-profile-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            width: 100%;
            transition: background 0.3s ease;
        }

        .edit-profile-btn:hover {
            background: #556cd6;
        }

        .sidebar-nav {
            list-style: none;
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .nav-item {
            border-bottom: 1px solid #f1f1f1;
        }

        .nav-item:last-child {
            border-bottom: none;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 20px;
            color: #333;
            text-decoration: none;
            font-size: 15px;
            transition: all 0.3s ease;
        }

        .nav-link:hover, .nav-link.active {
            background: #f5f7ff;
            color: #667eea;
        }

        .nav-icon {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }

        .badge {
            margin-left: auto;
            background: #ff4d4f;
            color: white;
            font-size: 12px;
            padding: 1px 6px;
            border-radius: 10px;
        }

        .content-wrapper {
            flex: 1;
        }

        .content-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }

        .panel-title {
            font-size: 20px;
            margin-bottom: 20px;
            color: #333;
            font-weight: 600;
        }

        /* æŠ•é€’è®°å½•æ ·å¼ */
        .record-list {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .record-item {
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #f1f1f1;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .record-item:hover {
            border-color: #667eea;
            background: #f5f7ff;
        }

        .record-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .record-job {
            font-weight: 600;
            font-size: 16px;
        }

        .record-status {
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-success {
            background: #e6f7ee;
            color: #00b42a;
        }

        .status-pending {
            background: #fff7e6;
            color: #ff7d00;
        }

        .status-fail {
            background: #ffebe6;
            color: #f53f3f;
        }

        .record-info {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 10px;
            font-size: 14px;
            color: #666;
        }

        .record-time {
            font-size: 13px;
            color: #999;
        }

        /* å¼¹çª—æ ·å¼ */
        .modal-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-mask.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: #333;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .modal-btn {
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            border: none;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-default {
            background: #f5f5f5;
            color: #333;
        }

        /* è¯¦æƒ…é¡µæ ·å¼ */
        .detail-section {
            margin-bottom: 20px;
        }

        .detail-section-title {
            font-size: 16px;
            margin-bottom: 10px;
            color: #333;
            font-weight: 600;
        }

        .detail-item {
            margin-bottom: 10px;
            font-size: 14px;
        }

        .detail-label {
            display: inline-block;
            width: 80px;
            color: #666;
        }

        .detail-content {
            line-height: 1.6;
        }

        .employer-info {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px;
            background: #f5f7ff;
            border-radius: 8px;
            margin-top: 10px;
        }

        .employer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .employer-name {
            font-weight: 600;
        }

        .employer-desc {
            font-size: 13px;
            color: #666;
            margin-top: 3px;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="logo">
                <h1>æ˜“å…¼èŒ</h1>
            </a>
            <div class="user-info">
                <div class="avatar">
                    <img src="https://picsum.photos/200/200?random=1" alt="ç”¨æˆ·å¤´åƒ" onerror="this.src='https://via.placeholder.com/40/667eea/ffffff?text=å¼ '">
                </div>
                <span class="username">å¼ ä¸‰</span>
                <button class="logout-btn" onclick="logout()">é€€å‡ºç™»å½•</button>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-container">
        <!-- ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <div class="profile-card">
                <div class="profile-avatar">
                    <img src="https://picsum.photos/200/200?random=1" alt="ä¸ªäººå¤´åƒ" onerror="this.src='https://via.placeholder.com/100/667eea/ffffff?text=å¼ '">
                </div>
                <h3 class="profile-name">å¼ ä¸‰</h3>
                <p class="profile-role">å…¼èŒæ±‚èŒè€…</p>
                
                <button class="edit-profile-btn" onclick="window.location.href='personal.html'">ç¼–è¾‘èµ„æ–™</button>
            </div>

            <ul class="sidebar-nav">
                <li class="nav-item">
                    <a href="personal.html" class="nav-link" data-module="profile">
                        <span class="nav-icon">ğŸ‘¤</span>
                        <span>ä¸ªäººä¿¡æ¯</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="resume.html" class="nav-link" data-module="resume">
                        <span class="nav-icon">ğŸ“</span>
                        <span>æˆ‘çš„ç®€å†</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="apply.html" class="nav-link active" data-module="apply">
                        <span class="nav-icon">ğŸ“¬</span>
                        <span>æŠ•é€’è®°å½•</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="message.html" class="nav-link" data-module="message">
                        <span class="nav-icon">ğŸ’¬</span>
                        <span>æ¶ˆæ¯ä¸­å¿ƒ</span>
                        <span class="badge">2</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="collect.html" class="nav-link" data-module="collect">
                        <span class="nav-icon">â­</span>
                        <span>æˆ‘çš„æ”¶è—</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="setting.html" class="nav-link" data-module="setting">
                        <span class="nav-icon">âš™ï¸</span>
                        <span>è´¦æˆ·è®¾ç½®</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="help.html" class="nav-link" data-module="help">
                        <span class="nav-icon">â“</span>
                        <span>å¸®åŠ©ä¸­å¿ƒ</span>
                    </a>
                </li>
            </ul>
        </aside>

        <!-- å³ä¾§å†…å®¹åŒº -->
        <div class="content-wrapper">
            <div class="content-panel">
                <h3 class="panel-title">ç®€å†æŠ•é€’è®°å½•</h3>
                <div class="record-list" id="recordList">
                    <!-- æŠ•é€’è®°å½•å°†åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </div>
    </main>

    <!-- æŠ•é€’è®°å½•è¯¦æƒ…å¼¹çª— -->
    <div class="modal-mask" id="recordDetailModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title" id="detailTitle">æŠ•é€’è®°å½•è¯¦æƒ…</h2>
                <button class="modal-close" onclick="closeModal('recordDetailModal')">Ã—</button>
            </div>
            <div class="modal-body" id="detailContent">
                <!-- è¯¦æƒ…å†…å®¹åŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-default" onclick="openChat()">è”ç³»é›‡ä¸»</button>
                <button class="modal-btn btn-primary" onclick="closeModal('recordDetailModal')">æˆ‘çŸ¥é“äº†</button>
            </div>
        </div>
    </div>

    <script src="theme-control.js"></script>
    <script>
        // å…¨å±€æ•°æ®ä¸­å¿ƒ
        const jobDataCenter = {
            allJobs: [
                {
                    id: 1,
                    title: 'å°å­¦å®¶æ•™è¾…å¯¼ï¼ˆæ•°å­¦/è‹±è¯­ï¼‰',
                    type: 'æ•™è‚²',
                    location: 'æœé˜³åŒºäºšè¿æ‘',
                    time: 'å‘¨æœ«',
                    settle: 'æ—¥ç»“',
                    publishDate: '2025-05-10',
                    desc: 'æ‹›è˜å°å­¦3-6å¹´çº§æ•°å­¦/è‹±è¯­å®¶æ•™ï¼Œè¦æ±‚æœ‰ç›¸å…³è¾…å¯¼ç»éªŒï¼Œèƒ½åˆ¶å®šä¸ªæ€§åŒ–è¾…å¯¼æ–¹æ¡ˆï¼Œæå‡å­©å­å­¦ä¹ æˆç»©ã€‚',
                    salary: 'Â¥180/å°æ—¶',
                    require: '1. æœ¬ç§‘åŠä»¥ä¸Šå­¦å†ï¼Œå¸ˆèŒƒç±»ä¸“ä¸šä¼˜å…ˆï¼›2. æœ‰1å¹´ä»¥ä¸Šå°å­¦å®¶æ•™ç»éªŒï¼›3. ç†Ÿæ‚‰å°å­¦æ•°å­¦/è‹±è¯­æ•™æï¼›4. æœ‰è€å¿ƒï¼Œå–„äºæ²Ÿé€šï¼›5. å‘¨æœ«èƒ½ç¨³å®šæˆè¯¾2-3å°æ—¶/å¤©',
                    employerId: 101,
                    employerName: 'ç‹å¥³å£«ï¼ˆå®¶æ•™é›‡ä¸»ï¼‰',
                    employerAvatar: 'https://picsum.photos/200/200?random=101',
                    employerDesc: 'å­©å­å°å­¦5å¹´çº§ï¼Œéœ€è¦æ•°å­¦å’Œè‹±è¯­è¾…å¯¼ï¼Œå®¶é•¿äººå¾ˆå¥½ï¼Œæ²Ÿé€šé¡ºç•…'
                },
                {
                    id: 2,
                    title: 'çŸ­è§†é¢‘å‰ªè¾‘å…¼èŒ',
                    type: 'IT/äº’è”ç½‘',
                    location: 'è¿œç¨‹åŠå…¬',
                    time: 'çµæ´»å®‰æ’',
                    settle: 'æŒ‰å•ç»“',
                    publishDate: '2025-05-08',
                    desc: 'æ‹›è˜çŸ­è§†é¢‘å‰ªè¾‘å…¼èŒï¼Œä¸»è¦è´Ÿè´£æŠ–éŸ³/å¿«æ‰‹çŸ­è§†é¢‘å‰ªè¾‘ï¼Œæ¯æ¡400å…ƒï¼ŒæŒ‰å•ç»“ç®—ã€‚éœ€æä¾›è¿‡å¾€ä½œå“ã€‚',
                    salary: 'Â¥400/æ¡',
                    require: '1. ç†Ÿç»ƒä½¿ç”¨PR/å‰ªæ˜ ç­‰å‰ªè¾‘è½¯ä»¶ï¼›2. æœ‰çŸ­è§†é¢‘å‰ªè¾‘ç»éªŒï¼›3. èƒ½ç‹¬ç«‹å®Œæˆè„šæœ¬ç†è§£ã€ç´ æå‰ªè¾‘ã€é…ä¹ã€å­—å¹•ç­‰ï¼›4. å®¡ç¾è‰¯å¥½ï¼ŒèŠ‚å¥æ„Ÿå¼º',
                    employerId: 102,
                    employerName: 'æç»ç†ï¼ˆä¼ åª’å…¬å¸ï¼‰',
                    employerAvatar: 'https://picsum.photos/200/200?random=102',
                    employerDesc: 'çŸ­è§†é¢‘åˆ›ä¸šå…¬å¸ï¼Œéœ€è¦å…¼èŒå‰ªè¾‘å¸ˆï¼Œå›¢é˜Ÿå¹´è½»åŒ–'
                },
                {
                    id: 3,
                    title: 'å¥¶èŒ¶åº—åº—å‘˜ï¼ˆå…¼èŒï¼‰',
                    type: 'æœåŠ¡',
                    location: 'æµ·æ·€åŒºä¸­å…³æ‘',
                    time: 'å‘¨æœ«å…¨å¤©',
                    settle: 'æ—¥ç»“',
                    publishDate: '2025-05-01',
                    desc: 'ä¸­å…³æ‘å¥¶èŒ¶åº—æ‹›è˜å…¼èŒåº—å‘˜ï¼Œä¸»è¦è´Ÿè´£ç‚¹å•ã€åˆ¶ä½œå¥¶èŒ¶ã€æ¸…æ´ç­‰å·¥ä½œï¼Œè–ªèµ„28å…ƒ/å°æ—¶ï¼Œæ—¥ç»“ã€‚',
                    salary: 'Â¥28/å°æ—¶',
                    require: '1. å¹´é¾„18-30å²ï¼Œå½¢è±¡è‰¯å¥½ï¼›2. èƒ½åƒè‹¦è€åŠ³ï¼Œæœ‰æœåŠ¡æ„è¯†ï¼›3. å‘¨æœ«èƒ½å…¨å¤©ä¸Šç­ï¼›4. æœ‰é¤é¥®è¡Œä¸šç»éªŒä¼˜å…ˆ',
                    employerId: 103,
                    employerName: 'å¼ åº—é•¿ï¼ˆå¥¶èŒ¶åº—ï¼‰',
                    employerAvatar: 'https://picsum.photos/200/200?random=103',
                    employerDesc: 'ä¸­å…³æ‘çŸ¥åå¥¶èŒ¶å“ç‰Œï¼Œé—¨åº—å®¢æµé‡å¤§ï¼Œéœ€è¦å…¼èŒåº—å‘˜'
                },
                {
                    id: 4,
                    title: 'Pythonç¼–ç¨‹å…¼èŒ',
                    type: 'IT/äº’è”ç½‘',
                    location: 'è¿œç¨‹åŠå…¬',
                    time: 'å·¥ä½œæ—¥æ™šä¸Š',
                    settle: 'å‘¨ç»“',
                    publishDate: '2025-04-25',
                    desc: 'æ‹›è˜Pythonç¼–ç¨‹å…¼èŒï¼Œä¸»è¦è´Ÿè´£æ•°æ®å¤„ç†ã€ç®€å•çˆ¬è™«å¼€å‘ç­‰å·¥ä½œï¼Œè–ªèµ„300å…ƒ/å¤©ï¼Œå‘¨ç»“ã€‚',
                    salary: 'Â¥300/å¤©',
                    require: '1. ç†Ÿç»ƒæŒæ¡PythonåŸºç¡€è¯­æ³•ï¼›2. ç†Ÿæ‚‰çˆ¬è™«ã€æ•°æ®åˆ†æä¼˜å…ˆï¼›3. èƒ½ç‹¬ç«‹å®Œæˆç®€å•çš„ç¼–ç¨‹ä»»åŠ¡ï¼›4. æœ‰è‰¯å¥½çš„ä»£ç è§„èŒƒ',
                    employerId: 104,
                    employerName: 'é™ˆå·¥ç¨‹å¸ˆï¼ˆç§‘æŠ€å…¬å¸ï¼‰',
                    employerAvatar: 'https://picsum.photos/200/200?random=104',
                    employerDesc: 'ä¸“æ³¨Pythonå¼€å‘çš„å°å‹ç§‘æŠ€å…¬å¸ï¼Œè¿œç¨‹åŠå…¬ï¼Œç»“ç®—åŠæ—¶'
                }
            ],
            appliedJobIds: new Set(),
            currentRecordId: 0,

            init() {
                this.loadFromLocalStorage();
                this.renderRecords();
            },

            loadFromLocalStorage() {
                const applied = localStorage.getItem('appliedJobIds');
                if (applied) this.appliedJobIds = new Set(JSON.parse(applied));
            },

            // æŠ•é€’çŠ¶æ€æ•°æ®
            getRecordStatus(jobId) {
                // æ¨¡æ‹Ÿä¸åŒèŒä½çš„æŠ•é€’çŠ¶æ€
                const statusMap = {
                    1: { text: 'å·²é‚€çº¦', type: 'status-success' },
                    2: { text: 'å®¡æ ¸ä¸­', type: 'status-pending' },
                    3: { text: 'æœªé€šè¿‡', type: 'status-fail' },
                    4: { text: 'å·²å½•ç”¨', type: 'status-success' }
                };
                return statusMap[jobId] || { text: 'å·²æŠ•é€’', type: 'status-pending' };
            },

            // æŠ•é€’æ—¶é—´æ•°æ®
            getDeliveryTime(jobId) {
                const timeMap = {
                    1: '2025-05-10 14:30',
                    2: '2025-05-08 09:15',
                    3: '2025-05-01 11:20',
                    4: '2025-04-25 16:40'
                };
                return timeMap[jobId] || new Date().toLocaleString().replace(/T/, ' ').replace(/\..+/, '');
            },

            renderRecords() {
                const recordListEl = document.getElementById('recordList');
                if (!recordListEl) return;

                // è·å–å·²æŠ•é€’çš„èŒä½
                const appliedJobs = this.allJobs.filter(job => this.appliedJobIds.has(job.id));
                
                if (appliedJobs.length === 0) {
                    recordListEl.innerHTML = '<div style="text-align:center; padding:50px 0; color:#999;">æš‚æ— æŠ•é€’è®°å½•</div>';
                    return;
                }

                recordListEl.innerHTML = appliedJobs.map(job => {
                    const status = this.getRecordStatus(job.id);
                    return `
                        <div class="record-item" onclick="jobDataCenter.openRecordDetail(${job.id})">
                            <div class="record-header">
                                <span class="record-job">${job.title}</span>
                                <span class="record-status ${status.type}">${status.text}</span>
                            </div>
                            <div class="record-info">
                                <span>è–ªèµ„ï¼š${job.salary}</span>
                                <span>åœ°ç‚¹ï¼š${job.location}</span>
                                <span>ç»“ç®—ï¼š${job.settle}</span>
                            </div>
                            <div class="record-time">æŠ•é€’æ—¶é—´ï¼š${this.getDeliveryTime(job.id)}</div>
                        </div>
                    `;
                }).join('');
            },

            openRecordDetail(id) {
                this.currentRecordId = id;
                const job = this.allJobs.find(j => j.id === id);
                if (!job) return;

                const status = this.getRecordStatus(id);
                const detailHtml = `
                    <div class="detail-section">
                        <h4 class="detail-section-title">èŒä½ä¿¡æ¯</h4>
                        <div class="detail-item">
                            <span class="detail-label">èŒä½åç§°ï¼š</span>
                            <span class="detail-content">${job.title}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å·¥ä½œç±»å‹ï¼š</span>
                            <span class="detail-content">${job.type}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å·¥ä½œåœ°ç‚¹ï¼š</span>
                            <span class="detail-content">${job.location}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">è–ªèµ„æ°´å¹³ï¼š</span>
                            <span class="detail-content">${job.salary}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ç»“ç®—æ–¹å¼ï¼š</span>
                            <span class="detail-content">${job.settle}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">æŠ•é€’æ—¶é—´ï¼š</span>
                            <span class="detail-content">${this.getDeliveryTime(id)}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å½“å‰çŠ¶æ€ï¼š</span>
                            <span class="detail-content"><span class="record-status ${status.type}">${status.text}</span></span>
                        </div>
                    </div>

                    <div class="detail-section">
                        <h4 class="detail-section-title">èŒä½æè¿°</h4>
                        <div class="detail-content detail-desc">${job.desc}</div>
                    </div>

                    <div class="detail-section">
                        <h4 class="detail-section-title">ä»»èŒè¦æ±‚</h4>
                        <div class="detail-content detail-desc">${job.require}</div>
                    </div>

                    <div class="detail-section">
                        <h4 class="detail-section-title">é›‡ä¸»ä¿¡æ¯</h4>
                        <div class="employer-info">
                            <img src="${job.employerAvatar}" alt="${job.employerName}" class="employer-avatar" 
                                onerror="this.src='https://via.placeholder.com/50/667eea/ffffff?text=é›‡'">
                            <div>
                                <div class="employer-name">${job.employerName}</div>
                                <div class="employer-desc">${job.employerDesc}</div>
                            </div>
                        </div>
                    </div>
                `;

                document.getElementById('detailTitle').textContent = `${job.title} - æŠ•é€’è¯¦æƒ…`;
                document.getElementById('detailContent').innerHTML = detailHtml;
                openModal('recordDetailModal');
            }
        };

        // é€šç”¨å¼¹çª—æ§åˆ¶
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // è”ç³»é›‡ä¸»
        function openChat() {
            if (jobDataCenter.currentRecordId === 0) {
                alert('è¯·å…ˆé€‰æ‹©ä¸€æ¡æŠ•é€’è®°å½•ï¼');
                return;
            }
            const job = jobDataCenter.allJobs.find(j => j.id === jobDataCenter.currentRecordId);
            if (!job) return;
            
            closeModal('recordDetailModal');
            alert(`å³å°†ä¸ºæ‚¨è·³è½¬è‡³ä¸ã€${job.employerName}ã€‘çš„æ²Ÿé€šç•Œé¢`);
            window.location.href = `contact.html?employerId=${job.employerId}&employerName=${encodeURIComponent(job.employerName)}&employerAvatar=${encodeURIComponent(job.employerAvatar)}`;
        }

        // é€€å‡ºç™»å½•
        function logout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                alert('é€€å‡ºæˆåŠŸï¼');
                window.location.href = 'profile.html';
            }
        }

        // åˆå§‹åŒ–é¡µé¢
        window.addEventListener('DOMContentLoaded', () => {
            jobDataCenter.init();
            
            // ç›‘å¬æœ¬åœ°å­˜å‚¨å˜åŒ–ï¼Œå®æ—¶æ›´æ–°
            window.addEventListener('storage', (e) => {
                if (e.key === 'appliedJobIds') {
                    jobDataCenter.loadFromLocalStorage();
                    jobDataCenter.renderRecords();
                }
            });
        });
    </script>
</body>
</html>