<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜“å…¼èŒ - æˆ‘çš„æ”¶è—</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* ç®€å†é€‰æ‹©å¼¹çª—æ ·å¼ */
        .modal-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        .modal-mask.active {
            opacity: 1;
            visibility: visible;
        }
        .modal-container {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }
        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }
        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .modal-close:hover {
            color: #333;
        }
        .modal-body {
            padding: 20px;
        }
        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }
        .modal-btn {
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            border: none;
        }
        .btn-primary {
            background: #667eea;
            color: white;
        }
        .btn-default {
            background: #f5f5f5;
            color: #333;
        }
        /* ç®€å†é€‰æ‹©åˆ—è¡¨æ ·å¼ */
        .resume-select-list {
            margin-top: 10px;
        }
        .resume-select-item {
            padding: 12px 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .resume-select-item:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }
        .resume-select-item.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }
        .resume-select-info {
            flex: 1;
        }
        .resume-select-name {
            font-weight: 600;
            margin-bottom: 4px;
        }
        .resume-select-type {
            font-size: 12px;
            color: #999;
        }
        .resume-select-check {
            color: #667eea;
            font-size: 18px;
            display: none;
        }
        .resume-select-item.selected .resume-select-check {
            display: block;
        }
        .no-resume-tip {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }
        .no-resume-tip .icon {
            font-size: 48px;
            margin-bottom: 15px;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="logo">
                <h1>æ˜“å…¼èŒ</h1>
            </a>
            <div class="user-info">
                <div class="avatar">
                    <img src="https://picsum.photos/200/200?random=1" alt="ç”¨æˆ·å¤´åƒ" onerror="this.src='https://via.placeholder.com/40/667eea/ffffff?text=å¼ '">
                </div>
                <span class="username">å¼ ä¸‰</span>
                <button class="logout-btn" onclick="logout()">é€€å‡ºç™»å½•</button>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-container">
        <!-- ä¾§è¾¹æ  -->
        <aside class="sidebar">
            <div class="profile-card">
                <div class="profile-avatar">
                    <img src="https://picsum.photos/200/200?random=1" alt="ä¸ªäººå¤´åƒ" onerror="this.src='https://via.placeholder.com/100/667eea/ffffff?text=å¼ '">
                </div>
                <h3 class="profile-name">å¼ ä¸‰</h3>
                <p class="profile-role">å…¼èŒæ±‚èŒè€…</p>
              
                <button class="edit-profile-btn" onclick="window.location.href='personal.html'">ç¼–è¾‘èµ„æ–™</button>
            </div>

            <ul class="sidebar-nav">
                <li class="nav-item">
                    <a href="personal.html" class="nav-link" data-module="profile">
                        <span class="nav-icon">ğŸ‘¤</span>
                        <span>ä¸ªäººä¿¡æ¯</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="resume.html" class="nav-link" data-module="resume">
                        <span class="nav-icon">ğŸ“</span>
                        <span>æˆ‘çš„ç®€å†</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="apply.html" class="nav-link" data-module="apply">
                        <span class="nav-icon">ğŸ“¬</span>
                        <span>æŠ•é€’è®°å½•</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="message.html" class="nav-link" data-module="message">
                        <span class="nav-icon">ğŸ’¬</span>
                        <span>æ¶ˆæ¯ä¸­å¿ƒ</span>
                        <span class="badge">2</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="collect.html" class="nav-link active" data-module="collect">
                        <span class="nav-icon">â­</span>
                        <span>æˆ‘çš„æ”¶è—</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="setting.html" class="nav-link" data-module="setting">
                        <span class="nav-icon">âš™ï¸</span>
                        <span>è´¦æˆ·è®¾ç½®</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="help.html" class="nav-link" data-module="help">
                        <span class="nav-icon">â“</span>
                        <span>å¸®åŠ©ä¸­å¿ƒ</span>
                    </a>
                </li>
            </ul>
        </aside>

        <!-- å³ä¾§å†…å®¹åŒº -->
        <div class="content-wrapper">
            <div class="content-panel">
                <h3 class="panel-title">æˆ‘çš„æ”¶è—</h3>
                <div class="collect-list">
                    <!-- æ”¶è—é¡¹1 -->
                    <div class="collect-item">
                        <div class="collect-info">
                            <div class="collect-job">çº¿ä¸Šæ–‡æ¡ˆç¼–è¾‘å…¼èŒ</div>
                            <div class="collect-desc">
                                <span>è–ªèµ„ï¼šÂ¥150/ç¯‡</span>
                                <span>åœ°ç‚¹ï¼šè¿œç¨‹åŠå…¬</span>
                                <span>æ”¶è—æ—¶é—´ï¼š2025-05-09</span>
                            </div>
                        </div>
                        <div class="collect-actions">
                            <button class="resume-btn btn-primary" onclick="applyCollect('çº¿ä¸Šæ–‡æ¡ˆç¼–è¾‘å…¼èŒ')">ç«‹å³æŠ•é€’</button>
                            <button class="resume-btn btn-default" onclick="cancelCollect(this, 'çº¿ä¸Šæ–‡æ¡ˆç¼–è¾‘å…¼èŒ')">å–æ¶ˆæ”¶è—</button>
                        </div>
                    </div>
                    <!-- æ”¶è—é¡¹2 -->
                    <div class="collect-item">
                        <div class="collect-info">
                            <div class="collect-job">æ ¡å›­æ¨å¹¿å…¼èŒ</div>
                            <div class="collect-desc">
                                <span>è–ªèµ„ï¼šÂ¥120/å¤©</span>
                                <span>åœ°ç‚¹ï¼šåŒ—äº¬ç§‘æŠ€å¤§å­¦</span>
                                <span>æ”¶è—æ—¶é—´ï¼š2025-05-05</span>
                            </div>
                        </div>
                        <div class="collect-actions">
                            <button class="resume-btn btn-primary" onclick="applyCollect('æ ¡å›­æ¨å¹¿å…¼èŒ')">ç«‹å³æŠ•é€’</button>
                            <button class="resume-btn btn-default" onclick="cancelCollect(this, 'æ ¡å›­æ¨å¹¿å…¼èŒ')">å–æ¶ˆæ”¶è—</button>
                        </div>
                    </div>
                    <!-- æ”¶è—é¡¹3 -->
                    <div class="collect-item">
                        <div class="collect-info">
                            <div class="collect-job">UIè®¾è®¡å…¼èŒ</div>
                            <div class="collect-desc">
                                <span>è–ªèµ„ï¼šÂ¥500/å•</span>
                                <span>åœ°ç‚¹ï¼šè¿œç¨‹åŠå…¬</span>
                                <span>æ”¶è—æ—¶é—´ï¼š2025-04-30</span>
                            </div>
                        </div>
                        <div class="collect-actions">
                            <button class="resume-btn btn-primary" onclick="applyCollect('UIè®¾è®¡å…¼èŒ')">ç«‹å³æŠ•é€’</button>
                            <button class="resume-btn btn-default" onclick="cancelCollect(this, 'UIè®¾è®¡å…¼èŒ')">å–æ¶ˆæ”¶è—</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ç®€å†é€‰æ‹©å¼¹çª— -->
    <div class="modal-mask" id="resumeSelectModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title" id="resumeModalTitle">é€‰æ‹©ç®€å†æŠ•é€’</h2>
                <button class="modal-close" onclick="closeModal('resumeSelectModal')">Ã—</button>
            </div>
            <div class="modal-body">
                <p>è¯·é€‰æ‹©è¦æŠ•é€’çš„ç®€å†ï¼ˆå»ºè®®é€‰æ‹©ä¸èŒä½åŒ¹é…çš„ç®€å†ï¼‰ï¼š</p>
                <div class="resume-select-list" id="resumeSelectList">
                    <!-- ç®€å†åˆ—è¡¨åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-default" onclick="closeModal('resumeSelectModal')">å–æ¶ˆ</button>
                <button class="modal-btn btn-primary" onclick="confirmResumeSelection()">ç¡®è®¤æŠ•é€’</button>
            </div>
        </div>
    </div>
<script src="theme-control.js"></script>
    <script>
        // ç®€å†æ•°æ®ï¼ˆä¸resume.htmlä¿æŒä¸€è‡´ï¼‰
        let resumeData = [
            {
                id: 1,
                name: "é€šç”¨ç®€å†",
                type: "é€šç”¨ç®€å†",
                updateTime: "2025-04-20",
                complete: "åŸºæœ¬ä¿¡æ¯ã€æŠ€èƒ½ç‰¹é•¿ã€å·¥ä½œç»å†",
                skills: "Pythonç¼–ç¨‹,å°å­¦æ•°å­¦è¾…å¯¼,çŸ­è§†é¢‘å‰ªè¾‘,æ–‡æ¡ˆå†™ä½œ",
                experience: "1. 2024.09-2025.01 å®¶æ•™å…¼èŒï¼ˆå°å­¦æ•°å­¦/è‹±è¯­ï¼‰ï¼šè´Ÿè´£3-6å¹´çº§å­¦ç”Ÿè¯¾åè¾…å¯¼ï¼Œå¹³å‡æåˆ†15åˆ†ï¼›\n2. 2024.07-2024.08 çŸ­è§†é¢‘å‰ªè¾‘å…¼èŒï¼šå®Œæˆ15æ¡çŸ­è§†é¢‘å‰ªè¾‘ï¼Œæ’­æ”¾é‡å‡è¶…1ä¸‡ï¼›\n3. 2024.03-2024.06 Pythonç¼–ç¨‹å…¼èŒï¼šå®Œæˆ2ä¸ªå°å‹çˆ¬è™«é¡¹ç›®ï¼Œæ•°æ®é‡‡é›†æ•ˆç‡æå‡50%ã€‚",
                selfEval: "æœ¬äººæ˜¯åŒ—äº¬ç§‘æŠ€å¤§å­¦è®¡ç®—æœºä¸“ä¸šå¤§ä¸‰å­¦ç”Ÿï¼Œå­¦ä¹ èƒ½åŠ›å¼ºï¼Œæœ‰ä¸°å¯Œçš„å…¼èŒç»éªŒã€‚åšäº‹è®¤çœŸè´Ÿè´£ï¼Œæ—¶é—´çµæ´»ï¼Œæ“…é•¿æ²Ÿé€šï¼Œèƒ½å¤Ÿå¿«é€Ÿé€‚åº”ä¸åŒå·¥ä½œéœ€æ±‚ï¼ŒæœŸå¾…æ‰¾åˆ°åˆé€‚çš„å…¼èŒæœºä¼šã€‚",
                isDefault: true
            },
            {
                id: 2,
                name: "å®¶æ•™ä¸“é¡¹ç®€å†",
                type: "å®¶æ•™ä¸“é¡¹ç®€å†",
                updateTime: "2025-04-25",
                complete: "æ•™è‚²èƒŒæ™¯ã€å®¶æ•™ç»éªŒã€æ“…é•¿ç§‘ç›®",
                skills: "å°å­¦æ•°å­¦è¾…å¯¼,å°å­¦è‹±è¯­è¾…å¯¼,åˆä¸­æ•°å­¦è¾…å¯¼,ä½œä¸šè¾…å¯¼",
                experience: "1. 2024.09-è‡³ä»Š å°å­¦æ•°å­¦/è‹±è¯­å®¶æ•™ï¼šè¾…å¯¼2åå°å­¦4å¹´çº§å­¦ç”Ÿï¼Œæ•°å­¦å¹³å‡åˆ†ä»75æå‡è‡³90ï¼Œè‹±è¯­ä»80æå‡è‡³92ï¼›\n2. 2024.03-2024.08 åˆä¸­æ•°å­¦å®¶æ•™ï¼šè¾…å¯¼1ååˆäºŒå­¦ç”Ÿï¼ŒæœŸæœ«æˆç»©æå‡20åˆ†ï¼›\n3. 2023.09-2024.02 ä½œä¸šè¾…å¯¼è€å¸ˆï¼šè´Ÿè´£å°å­¦ç”Ÿå…¨ç§‘ä½œä¸šè¾…å¯¼ï¼Œç´¯è®¡æœåŠ¡30+å­¦ç”Ÿã€‚",
                selfEval: "æ“…é•¿å°å­¦/åˆä¸­æ•°å­¦ã€è‹±è¯­è¾…å¯¼ï¼Œç†Ÿæ‚‰å„ç‰ˆæœ¬æ•™æï¼Œèƒ½å¤Ÿåˆ¶å®šä¸ªæ€§åŒ–è¾…å¯¼æ–¹æ¡ˆã€‚æœ‰è€å¿ƒã€æœ‰çˆ±å¿ƒï¼Œå–„äºå¼•å¯¼å­¦ç”Ÿæ€è€ƒï¼Œå¸®åŠ©å­¦ç”Ÿå»ºç«‹å­¦ä¹ ä¿¡å¿ƒï¼Œæå‡å­¦ä¹ æˆç»©ã€‚",
                isDefault: false
            }
        ];

        // å½“å‰é€‰ä¸­çš„èŒä½å’Œç®€å†ID
        let currentJobName = '';
        let selectedResumeId = 0;

        // å¼¹çª—æ§åˆ¶
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
            // é‡ç½®é€‰æ‹©çŠ¶æ€
            selectedResumeId = 0;
        }

        // æŠ•é€’æ”¶è—çš„èŒä½ - æ”¹é€ ç‰ˆ
        function applyCollect(jobName) {
            currentJobName = jobName;
            
            // æ›´æ–°å¼¹çª—æ ‡é¢˜
            document.getElementById('resumeModalTitle').textContent = `é€‰æ‹©ç®€å†æŠ•é€’ã€${jobName}ã€‘`;
            
            // æ¸²æŸ“ç®€å†é€‰æ‹©åˆ—è¡¨
            renderResumeSelectList();
            
            // æ‰“å¼€ç®€å†é€‰æ‹©å¼¹çª—
            openModal('resumeSelectModal');
        }

        // æ¸²æŸ“ç®€å†é€‰æ‹©åˆ—è¡¨
        function renderResumeSelectList() {
            const resumeSelectList = document.getElementById('resumeSelectList');
            
            // æ¸…ç©ºåˆ—è¡¨
            resumeSelectList.innerHTML = '';

            // æ£€æŸ¥æ˜¯å¦æœ‰ç®€å†
            if (resumeData.length === 0) {
                resumeSelectList.innerHTML = `
                    <div class="no-resume-tip">
                        <div class="icon">ğŸ“</div>
                        <div>æš‚æ— å¯ç”¨ç®€å†</div>
                        <button class="modal-btn btn-primary" style="margin-top: 20px;" onclick="window.location.href='resume.html'">ç«‹å³åˆ›å»ºç®€å†</button>
                    </div>
                `;
                return;
            }

            // ç”Ÿæˆç®€å†é€‰æ‹©é¡¹
            resumeData.forEach(resume => {
                const isSelected = resume.isDefault ? 'selected' : '';
                if (isSelected) {
                    selectedResumeId = resume.id; // é»˜è®¤é€‰ä¸­é»˜è®¤ç®€å†
                }

                const resumeItem = document.createElement('div');
                resumeItem.className = `resume-select-item ${isSelected}`;
                resumeItem.setAttribute('data-resume-id', resume.id);
                resumeItem.onclick = function() {
                    // å–æ¶ˆå…¶ä»–é€‰ä¸­çŠ¶æ€
                    document.querySelectorAll('.resume-select-item').forEach(item => {
                        item.classList.remove('selected');
                    });
                    // è®¾ç½®å½“å‰é€‰ä¸­çŠ¶æ€
                    this.classList.add('selected');
                    selectedResumeId = parseInt(this.getAttribute('data-resume-id'));
                };

                resumeItem.innerHTML = `
                    <div class="resume-select-info">
                        <div class="resume-select-name">${resume.name} ${resume.isDefault ? '(é»˜è®¤)' : ''}</div>
                        <div class="resume-select-type">ç±»å‹ï¼š${resume.type} | æ›´æ–°æ—¶é—´ï¼š${resume.updateTime}</div>
                    </div>
                    <div class="resume-select-check">âœ“</div>
                `;

                resumeSelectList.appendChild(resumeItem);
            });
        }

        // ç¡®è®¤ç®€å†é€‰æ‹©å¹¶æŠ•é€’
        function confirmResumeSelection() {
            // æ£€æŸ¥æ˜¯å¦é€‰æ‹©äº†ç®€å†
            if (selectedResumeId === 0) {
                alert('è¯·é€‰æ‹©è¦æŠ•é€’çš„ç®€å†ï¼');
                return;
            }

            // è·å–é€‰ä¸­çš„ç®€å†ä¿¡æ¯
            const selectedResume = resumeData.find(item => item.id === selectedResumeId);
            
            // ç¡®è®¤æŠ•é€’
            if (confirm(`ç¡®å®šä½¿ç”¨ã€${selectedResume.name}ã€‘æŠ•é€’ã€${currentJobName}ã€‘å—ï¼Ÿ`)) {
                // æ¨¡æ‹ŸæŠ•é€’æˆåŠŸ
                alert(`å·²ä½¿ç”¨ã€${selectedResume.name}ã€‘æˆåŠŸæŠ•é€’ã€${currentJobName}ã€‘ï¼\n\næŠ•é€’æ—¶é—´ï¼š${new Date().toLocaleString()}\nç®€å†ç±»å‹ï¼š${selectedResume.type}\nè¯·å‰å¾€ã€ŒæŠ•é€’è®°å½•ã€æŸ¥çœ‹è¿›åº¦ã€‚`);
                
                // å…³é—­å¼¹çª—
                closeModal('resumeSelectModal');
                
                // è·³è½¬åˆ°æŠ•é€’è®°å½•é¡µé¢
                setTimeout(() => {
                    window.location.href = 'apply.html';
                }, 1000);
            }
        }

        // å–æ¶ˆæ”¶è—
        function cancelCollect(btn, jobName) {
            if (confirm(`ç¡®å®šè¦å–æ¶ˆæ”¶è—ã€${jobName}ã€‘å—ï¼Ÿ`)) {
                const collectItem = btn.closest('.collect-item');
                collectItem.style.opacity = '0.5';
                collectItem.style.transition = 'opacity 0.3s ease';
                setTimeout(() => {
                    collectItem.remove();
                    // æ£€æŸ¥æ˜¯å¦è¿˜æœ‰æ”¶è—é¡¹
                    const collectList = document.querySelector('.collect-list');
                    if (collectList.children.length === 0) {
                        collectList.innerHTML = `
                            <div class="empty-state">
                                <div class="empty-icon">â­</div>
                                <div class="empty-text">æš‚æ— æ”¶è—çš„èŒä½</div>
                                <button class="empty-btn" onclick="window.location.href='apply.html'">å»çœ‹çœ‹å…¼èŒ</button>
                            </div>
                        `;
                    }
                }, 300);
                alert(`å·²å–æ¶ˆæ”¶è—ã€${jobName}ã€‘`);
            }
        }

        // é€€å‡ºç™»å½•
        function logout() {
            if (confirm('ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ')) {
                alert('é€€å‡ºæˆåŠŸï¼');
                window.location.href = 'profile.html';
            }
        }
// collect.html ä¸­è¯»å–æ”¶è—æ•°æ®
const collectedJobs = JSON.parse(localStorage.getItem('collectedJobs')) || [];
// æ ¹æ®IDç­›é€‰å‡ºæ”¶è—çš„å…¼èŒæ•°æ®
const collectedJobData = jobData.filter(job => collectedJobs.includes(job.id));
// æ¸²æŸ“åˆ°æ”¶è—åˆ—è¡¨ä¸­
    </script>
</body>
</html>