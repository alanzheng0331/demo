<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜“å…¼èŒ - å…¼èŒæ£€ç´¢</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
        }

        body {
            background: #f8f9fa;
            color: #333;
            min-height: 100vh;
        }

        /* é¡¶éƒ¨å¯¼èˆªæ  */
        .navbar {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 15px 20px;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .navbar-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            color: white;
            text-decoration: none;
        }

        .logo h1 {
            font-size: 24px;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .nav-buttons {
            display: flex;
            gap: 15px;
        }

        .nav-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            text-decoration: none;
        }

        .nav-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        .nav-btn.home {
            background: white;
            color: #764ba2;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* ä¸»å†…å®¹åŒº */
        .main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 100px 20px 50px;
        }

        /* é«˜çº§æœç´¢æ  */
        .search-section {
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            padding: 30px;
            margin-bottom: 40px;
            backdrop-filter: blur(10px);
        }

        .search-title {
            font-size: 28px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .search-title span {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* ç­›é€‰æ¡ä»¶åŒº */
        .filter-row {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 20px;
            align-items: center;
        }

        .filter-item {
            flex: 1;
            min-width: 180px;
        }

        .filter-item label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            font-size: 14px;
            color: #666;
        }

        .search-input, .filter-select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e1e1;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .search-input:focus, .filter-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            height: 46px;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(102, 126, 234, 0.3);
        }

        /* ç­›é€‰æ ‡ç­¾ */
        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 30px;
        }

        .filter-tag {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-tag.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .filter-tag:hover {
            background: rgba(102, 126, 234, 0.2);
        }

        /* æ£€ç´¢ç»“æœåŒº */
        .result-section {
            margin-bottom: 50px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .result-count {
            font-size: 16px;
            color: #666;
        }

        .result-count strong {
            color: #764ba2;
        }

        .sort-select {
            padding: 8px 15px;
            border: 2px solid #e1e1e1;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .sort-select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        /* å…¼èŒåˆ—è¡¨ */
        .job-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .job-item {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            transition: all 0.3s ease;
        }

        .job-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(102, 126, 234, 0.15);
        }

        .job-left {
            flex: 1;
            min-width: 280px;
        }

        .job-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .job-tag {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 3px 8px;
            border-radius: 5px;
            font-size: 12px;
            font-weight: normal;
        }

        .job-info {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 10px;
            font-size: 14px;
            color: #666;
        }

        .job-info-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .job-desc {
            font-size: 14px;
            color: #666;
            line-height: 1.6;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .job-right {
            display: flex;
            flex-direction: column;
            gap: 10px;
            align-items: flex-end;
            min-width: 120px;
        }

        .job-salary {
            font-size: 20px;
            font-weight: bold;
            color: #764ba2;
        }

        .job-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
            width: 100%;
        }

        .job-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.2);
        }

        .job-btn:disabled {
            background: #999;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* æ”¶è—æŒ‰é’®æ ·å¼ */
        .collect-btn {
            background: transparent;
            border: 2px solid #e1e1e1;
            color: #999;
            padding: 8px 0;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            width: 100%;
        }

        .collect-btn:hover {
            border-color: #ffc107;
            color: #ffc107;
        }

        .collect-btn.active {
            border-color: #ffc107;
            color: #ffc107;
            background: rgba(255, 193, 7, 0.1);
        }

        .collect-icon {
            margin-right: 5px;
        }

        /* åˆ†é¡µ */
        .pagination {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 40px;
        }

        .page-btn {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            border: 2px solid #e1e1e1;
            background: white;
            color: #666;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
        }

        .page-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-color: transparent;
        }

        .page-btn:hover:not(.active) {
            border-color: #667eea;
            color: #667eea;
        }

        /* åº•éƒ¨ */
        .footer {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            margin-top: 80px;
            text-align: center;
            font-size: 14px;
        }

        /* å¼¹çª—æ ·å¼ */
        .modal-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }

        .modal-mask.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-container {
            background: white;
            border-radius: 10px;
            width: 90%;
            max-width: 800px;
            max-height: 80vh;
            overflow-y: auto;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .modal-close:hover {
            color: #333;
        }

        .modal-body {
            padding: 20px;
        }

        .modal-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
        }

        .modal-btn {
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            border: none;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-default {
            background: #f5f5f5;
            color: #333;
        }

        /* ç®€å†é€‰æ‹©åˆ—è¡¨æ ·å¼ */
        .resume-select-list {
            margin-top: 10px;
        }

        .resume-select-item {
            padding: 12px 15px;
            border: 1px solid #eee;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .resume-select-item:hover {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.05);
        }

        .resume-select-item.selected {
            border-color: #667eea;
            background: rgba(102, 126, 234, 0.1);
        }

        .resume-select-info {
            flex: 1;
        }

        .resume-select-name {
            font-weight: 600;
            margin-bottom: 4px;
        }

        .resume-select-type {
            font-size: 12px;
            color: #999;
        }

        .resume-select-check {
            color: #667eea;
            font-size: 18px;
            display: none;
        }

        .resume-select-item.selected .resume-select-check {
            display: block;
        }

        .no-resume-tip {
            text-align: center;
            padding: 40px 20px;
            color: #999;
        }

        .no-resume-tip .icon {
            font-size: 48px;
            margin-bottom: 15px;
        }

        /* è¯¦æƒ…é¡µæ ·å¼ */
        .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .detail-label {
            font-size: 14px;
            color: #666;
        }

        .detail-value {
            font-size: 15px;
            font-weight: 600;
        }

        .detail-desc {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            margin-top: 10px;
            line-height: 1.6;
        }
    </style>
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <nav class="navbar">
        <div class="navbar-container">
            <a href="index.html" class="logo">
                <h1>æ˜“å…¼èŒ</h1>
            </a>
            <div class="nav-buttons">
                <a href="index.html" class="nav-btn home">é¦–é¡µ</a>
                <a href="search.html" class="nav-btn">å…¼èŒæ£€ç´¢</a>
                <a href="personal.html" class="nav-btn">ä¸ªäººä¸­å¿ƒ</a>
            </div>
        </div>
    </nav>

    <!-- ä¸»å†…å®¹åŒº -->
    <main class="main-container">
        <!-- é«˜çº§æœç´¢æ  -->
        <section class="search-section">
            <h2 class="search-title">æ‰¾åˆ°<span>åˆé€‚</span>çš„å…¼èŒ</h2>
            <div class="filter-row">
                <div class="filter-item">
                    <label for="keyword">å…³é”®è¯</label>
                    <input type="text" id="keyword" class="search-input" placeholder="è¾“å…¥èŒä½ã€å…¬å¸å…³é”®è¯">
                </div>
                <div class="filter-item">
                    <label for="city">å·¥ä½œåŸå¸‚</label>
                    <select id="city" class="filter-select">
                        <option value="">å…¨éƒ¨åŸå¸‚</option>
                        <option value="beijing">åŒ—äº¬</option>
                        <option value="shanghai">ä¸Šæµ·</option>
                        <option value="guangzhou">å¹¿å·</option>
                        <option value="shenzhen">æ·±åœ³</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label for="jobType">å·¥ä½œç±»å‹</label>
                    <select id="jobType" class="filter-select">
                        <option value="">å…¨éƒ¨ç±»å‹</option>
                        <option value="education">æ•™è‚²/åŸ¹è®­</option>
                        <option value="service">æœåŠ¡è¡Œä¸š</option>
                        <option value="design">è®¾è®¡/åˆ›æ„</option>
                        <option value="it">IT/äº’è”ç½‘</option>
                    </select>
                </div>
                <div class="filter-item">
                    <label for="salary">è–ªèµ„èŒƒå›´</label>
                    <select id="salary" class="filter-select">
                        <option value="">å…¨éƒ¨è–ªèµ„</option>
                        <option value="0-100">100å…ƒ/å¤©ä»¥ä¸‹</option>
                        <option value="100-200">100-200å…ƒ/å¤©</option>
                        <option value="200-300">200-300å…ƒ/å¤©</option>
                        <option value="300+">300å…ƒ/å¤©ä»¥ä¸Š</option>
                    </select>
                </div>
                <button class="search-btn">æœç´¢å…¼èŒ</button>
            </div>
            <div class="filter-tags">
                <div class="filter-tag active">å…¨éƒ¨å…¼èŒ</div>
                <div class="filter-tag">è¿œç¨‹å…¼èŒ</div>
                <div class="filter-tag">æ—¥ç»“å…¼èŒ</div>
                <div class="filter-tag">å‘¨æœ«å…¼èŒ</div>
                <div class="filter-tag">å¤§å­¦ç”Ÿå…¼èŒ</div>
            </div>
        </section>

        <!-- æ£€ç´¢ç»“æœåŒº -->
        <section class="result-section">
            <div class="result-header">
                <div class="result-count">æ‰¾åˆ° <strong>24</strong> ä¸ªç›¸å…³å…¼èŒ</div>
                <select class="sort-select">
                    <option value="newest">æœ€æ–°å‘å¸ƒ</option>
                    <option value="salary-desc">è–ªèµ„ä»é«˜åˆ°ä½</option>
                    <option value="salary-asc">è–ªèµ„ä»ä½åˆ°é«˜</option>
                </select>
            </div>

            <!-- å…¼èŒåˆ—è¡¨ -->
            <div class="job-list">
                <!-- åŠ¨æ€ç”Ÿæˆçš„å…¼èŒåˆ—è¡¨å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
            </div>

            <!-- åˆ†é¡µ -->
            <div class="pagination">
                <a href="#" class="page-btn">ä¸Šä¸€é¡µ</a>
                <a href="#" class="page-btn active">1</a>
                <a href="#" class="page-btn">2</a>
                <a href="#" class="page-btn">3</a>
                <a href="#" class="page-btn">4</a>
                <a href="#" class="page-btn">5</a>
                <a href="#" class="page-btn">ä¸‹ä¸€é¡µ</a>
            </div>
        </section>
    </main>

    <!-- å…¼èŒè¯¦æƒ…å¼¹çª— -->
    <div class="modal-mask" id="jobDetailModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title" id="detailTitle">å…¼èŒè¯¦æƒ…</h2>
                <button class="modal-close" onclick="closeModal('jobDetailModal')">Ã—</button>
            </div>
            <div class="modal-body" id="detailContent">
                <!-- è¯¦æƒ…å†…å®¹åŠ¨æ€ç”Ÿæˆ -->
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-default" onclick="toggleDetailCollect()">æ”¶è—</button>
                <button class="modal-btn btn-primary" onclick="openResumeSelectModal()">ç«‹å³æŠ•é€’</button>
            </div>
        </div>
    </div>

    <!-- ç®€å†é€‰æ‹©å¼¹çª— -->
    <div class="modal-mask" id="resumeSelectModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2 class="modal-title" id="resumeModalTitle">é€‰æ‹©ç®€å†æŠ•é€’</h2>
                <button class="modal-close" onclick="closeModal('resumeSelectModal')">Ã—</button>
            </div>
            <div class="modal-body">
                <p>è¯·é€‰æ‹©è¦æŠ•é€’çš„ç®€å†ï¼ˆå»ºè®®é€‰æ‹©ä¸èŒä½åŒ¹é…çš„ç®€å†ï¼‰ï¼š</p>
                <div class="resume-select-list" id="resumeSelectList">
                    <!-- ç®€å†åˆ—è¡¨åŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="modal-btn btn-default" onclick="closeModal('resumeSelectModal')">å–æ¶ˆ</button>
                <button class="modal-btn btn-primary" onclick="confirmResumeSelection()">ç¡®è®¤æŠ•é€’</button>
            </div>
        </div>
    </div>

    <script>
        // å…¨å±€æ•°æ®ä¸­å¿ƒ
        const jobDataCenter = {
            allJobs: [],
            filteredJobs: [],
            appliedJobIds: new Set(),
            collectedJobIds: new Set(),
            currentJobId: 0,
            selectedResumeId: null,

            init() {
                // åˆå§‹åŒ–å…¼èŒæ•°æ®
                this.allJobs = [
                    {
                        id: 1,
                        title: 'å°å­¦å®¶æ•™è¾…å¯¼ï¼ˆæ•°å­¦/è‹±è¯­ï¼‰',
                        type: 'æ•™è‚²',
                        location: 'æœé˜³åŒºäºšè¿æ‘',
                        time: 'å‘¨æœ«',
                        settle: 'æ—¥ç»“',
                        publishDate: '2025-05-10',
                        desc: 'æ‹›è˜å°å­¦3-6å¹´çº§æ•°å­¦/è‹±è¯­å®¶æ•™ï¼Œè¦æ±‚æœ‰ç›¸å…³è¾…å¯¼ç»éªŒï¼Œèƒ½åˆ¶å®šä¸ªæ€§åŒ–è¾…å¯¼æ–¹æ¡ˆï¼Œæå‡å­©å­å­¦ä¹ æˆç»©ã€‚',
                        salary: 'Â¥180/å°æ—¶',
                        salaryPerHour: 180,
                        city: 'beijing',
                        isRemote: false,
                        require: '1. æœ¬ç§‘åŠä»¥ä¸Šå­¦å†ï¼Œå¸ˆèŒƒç±»ä¸“ä¸šä¼˜å…ˆï¼›2. æœ‰1å¹´ä»¥ä¸Šå°å­¦å®¶æ•™ç»éªŒï¼›3. ç†Ÿæ‚‰å°å­¦æ•°å­¦/è‹±è¯­æ•™æï¼›4. æœ‰è€å¿ƒï¼Œå–„äºæ²Ÿé€šï¼›5. å‘¨æœ«èƒ½ç¨³å®šæˆè¯¾2-3å°æ—¶/å¤©',
                        employerId: 101,
                        employerName: 'ç‹å¥³å£«ï¼ˆå®¶æ•™é›‡ä¸»ï¼‰'
                    },
                    {
                        id: 2,
                        title: 'çŸ­è§†é¢‘å‰ªè¾‘å…¼èŒ',
                        type: 'IT/äº’è”ç½‘',
                        location: 'è¿œç¨‹åŠå…¬',
                        time: 'çµæ´»å®‰æ’',
                        settle: 'æŒ‰å•ç»“',
                        publishDate: '2025-05-08',
                        desc: 'æ‹›è˜çŸ­è§†é¢‘å‰ªè¾‘å…¼èŒï¼Œä¸»è¦è´Ÿè´£æŠ–éŸ³/å¿«æ‰‹çŸ­è§†é¢‘å‰ªè¾‘ï¼Œæ¯æ¡400å…ƒï¼ŒæŒ‰å•ç»“ç®—ã€‚éœ€æä¾›è¿‡å¾€ä½œå“ã€‚',
                        salary: 'Â¥400/æ¡',
                        salaryPerHour: 200,
                        city: '',
                        isRemote: true,
                        require: '1. ç†Ÿç»ƒä½¿ç”¨PR/å‰ªæ˜ ç­‰å‰ªè¾‘è½¯ä»¶ï¼›2. æœ‰çŸ­è§†é¢‘å‰ªè¾‘ç»éªŒï¼›3. èƒ½ç‹¬ç«‹å®Œæˆè„šæœ¬ç†è§£ã€ç´ æå‰ªè¾‘ã€é…ä¹ã€å­—å¹•ç­‰ï¼›4. å®¡ç¾è‰¯å¥½ï¼ŒèŠ‚å¥æ„Ÿå¼º',
                        employerId: 102,
                        employerName: 'æç»ç†ï¼ˆä¼ åª’å…¬å¸ï¼‰'
                    },
                    {
                        id: 3,
                        title: 'å¥¶èŒ¶åº—åº—å‘˜ï¼ˆå…¼èŒï¼‰',
                        type: 'æœåŠ¡',
                        location: 'æµ·æ·€åŒºä¸­å…³æ‘',
                        time: 'å‘¨æœ«å…¨å¤©',
                        settle: 'æ—¥ç»“',
                        publishDate: '2025-05-01',
                        desc: 'ä¸­å…³æ‘å¥¶èŒ¶åº—æ‹›è˜å…¼èŒåº—å‘˜ï¼Œä¸»è¦è´Ÿè´£ç‚¹å•ã€åˆ¶ä½œå¥¶èŒ¶ã€æ¸…æ´ç­‰å·¥ä½œï¼Œè–ªèµ„28å…ƒ/å°æ—¶ï¼Œæ—¥ç»“ã€‚',
                        salary: 'Â¥28/å°æ—¶',
                        salaryPerHour: 28,
                        city: 'beijing',
                        isRemote: false,
                        require: '1. å¹´é¾„18-30å²ï¼Œå½¢è±¡è‰¯å¥½ï¼›2. èƒ½åƒè‹¦è€åŠ³ï¼Œæœ‰æœåŠ¡æ„è¯†ï¼›3. å‘¨æœ«èƒ½å…¨å¤©ä¸Šç­ï¼›4. æœ‰é¤é¥®è¡Œä¸šç»éªŒä¼˜å…ˆ',
                        employerId: 103,
                        employerName: 'å¼ åº—é•¿ï¼ˆå¥¶èŒ¶åº—ï¼‰'
                    },
                    {
                        id: 4,
                        title: 'Pythonç¼–ç¨‹å…¼èŒ',
                        type: 'IT/äº’è”ç½‘',
                        location: 'è¿œç¨‹åŠå…¬',
                        time: 'å·¥ä½œæ—¥æ™šä¸Š',
                        settle: 'å‘¨ç»“',
                        publishDate: '2025-04-25',
                        desc: 'æ‹›è˜Pythonç¼–ç¨‹å…¼èŒï¼Œä¸»è¦è´Ÿè´£æ•°æ®å¤„ç†ã€ç®€å•çˆ¬è™«å¼€å‘ç­‰å·¥ä½œï¼Œè–ªèµ„300å…ƒ/å¤©ï¼Œå‘¨ç»“ã€‚',
                        salary: 'Â¥300/å¤©',
                        salaryPerHour: 37.5,
                        city: '',
                        isRemote: true,
                        require: '1. ç†Ÿç»ƒæŒæ¡PythonåŸºç¡€è¯­æ³•ï¼›2. ç†Ÿæ‚‰çˆ¬è™«ã€æ•°æ®åˆ†æä¼˜å…ˆï¼›3. èƒ½ç‹¬ç«‹å®Œæˆç®€å•çš„ç¼–ç¨‹ä»»åŠ¡ï¼›4. æœ‰è‰¯å¥½çš„ä»£ç è§„èŒƒ',
                        employerId: 104,
                        employerName: 'é™ˆå·¥ç¨‹å¸ˆï¼ˆç§‘æŠ€å…¬å¸ï¼‰'
                    },
                    {
                        id: 5,
                        title: 'çº¿ä¸Šæ–‡æ¡ˆç¼–è¾‘å…¼èŒ',
                        type: 'è®¾è®¡/åˆ›æ„',
                        location: 'è¿œç¨‹åŠå…¬',
                        time: 'çµæ´»å®‰æ’',
                        settle: 'æŒ‰ç¯‡ç»“',
                        publishDate: '2025-05-09',
                        desc: 'è´Ÿè´£å…¬ä¼—å·ã€å°çº¢ä¹¦æ–‡æ¡ˆæ’°å†™ï¼Œè¦æ±‚æ–‡å­—åŠŸåº•æ‰å®ï¼Œæœ‰ç½‘æ„Ÿï¼Œèƒ½æŠ“ä½çƒ­ç‚¹è¯é¢˜ã€‚',
                        salary: 'Â¥150/ç¯‡',
                        salaryPerHour: 75,
                        city: '',
                        isRemote: true,
                        require: '1. ä¸­æ–‡ç›¸å…³ä¸“ä¸šä¼˜å…ˆï¼›2. æœ‰æ–°åª’ä½“æ–‡æ¡ˆç»éªŒï¼›3. èƒ½ç‹¬ç«‹å®Œæˆé€‰é¢˜å’Œæ’°å†™ï¼›4. æŒ‰æ—¶äº¤ç¨¿ä¸æ‹–å»¶',
                        employerId: 105,
                        employerName: 'åˆ˜ç¼–è¾‘ï¼ˆè‡ªåª’ä½“å·¥ä½œå®¤ï¼‰'
                    },
                    {
                        id: 6,
                        title: 'æ ¡å›­æ¨å¹¿å…¼èŒ',
                        type: 'æœåŠ¡',
                        location: 'åŒ—äº¬ç§‘æŠ€å¤§å­¦',
                        time: 'å·¥ä½œæ—¥ä¸‹åˆ',
                        settle: 'æ—¥ç»“',
                        publishDate: '2025-05-05',
                        desc: 'è´Ÿè´£æ ¡å›­å†…APPæ¨å¹¿ï¼Œå¼•å¯¼å­¦ç”Ÿä¸‹è½½æ³¨å†Œï¼ŒæŒ‰æœ‰æ•ˆç”¨æˆ·æ•°é‡ç»“ç®—ï¼Œæ—¥ç»“è–ªèµ„ã€‚',
                        salary: 'Â¥120/å¤©',
                        salaryPerHour: 30,
                        city: 'beijing',
                        isRemote: false,
                        require: '1. åœ¨æ ¡å¤§å­¦ç”Ÿä¼˜å…ˆï¼›2. æ€§æ ¼å¼€æœ—ï¼Œå–„äºæ²Ÿé€šï¼›3. æœ‰æ¨å¹¿ç»éªŒè€…ä¼˜å…ˆï¼›4. èƒ½å®Œæˆæ¯æ—¥æ¨å¹¿æŒ‡æ ‡',
                        employerId: 106,
                        employerName: 'èµµç»ç†ï¼ˆæ¨å¹¿å…¬å¸ï¼‰'
                    },
                    {
                        id: 7,
                        title: 'UIè®¾è®¡å…¼èŒ',
                        type: 'è®¾è®¡/åˆ›æ„',
                        location: 'è¿œç¨‹åŠå…¬',
                        time: 'çµæ´»å®‰æ’',
                        settle: 'æŒ‰å•ç»“',
                        publishDate: '2025-04-30',
                        desc: 'è´Ÿè´£ç§»åŠ¨ç«¯APPç•Œé¢è®¾è®¡ï¼Œæ ¹æ®éœ€æ±‚å®ŒæˆåŸå‹å’Œè§†è§‰è®¾è®¡ï¼ŒæŒ‰é¡¹ç›®ç»“ç®—è´¹ç”¨ã€‚',
                        salary: 'Â¥500/å•',
                        salaryPerHour: 125,
                        city: '',
                        isRemote: true,
                        require: '1. è®¾è®¡ç›¸å…³ä¸“ä¸šï¼›2. ç†Ÿç»ƒä½¿ç”¨Figmaã€Sketchç­‰è®¾è®¡å·¥å…·ï¼›3. æœ‰UIè®¾è®¡ä½œå“ï¼›4. ç†è§£ç”¨æˆ·ä½“éªŒè®¾è®¡åŸåˆ™',
                        employerId: 107,
                        employerName: 'å­™æ€»ç›‘ï¼ˆè®¾è®¡å…¬å¸ï¼‰'
                    }
                ];
                this.filteredJobs = [...this.allJobs];
                
                // ä»æœ¬åœ°å­˜å‚¨åŠ è½½çŠ¶æ€
                this.loadFromLocalStorage();
                // åˆå§‹æ¸²æŸ“
                this.renderAll();
            },

            loadFromLocalStorage() {
                const applied = localStorage.getItem('appliedJobIds');
                const collected = localStorage.getItem('collectedJobIds');
                if (applied) this.appliedJobIds = new Set(JSON.parse(applied));
                if (collected) this.collectedJobIds = new Set(JSON.parse(collected));
            },

            saveToLocalStorage() {
                localStorage.setItem('appliedJobIds', JSON.stringify([...this.appliedJobIds]));
                localStorage.setItem('collectedJobIds', JSON.stringify([...this.collectedJobIds]));
            },

            applyFilters(filters) {
                this.filteredJobs = this.allJobs.filter(job => {
                    // å…³é”®è¯ç­›é€‰
                    if (filters.keyword && !job.title.includes(filters.keyword) && !job.desc.includes(filters.keyword)) {
                        return false;
                    }
                    // åŸå¸‚ç­›é€‰
                    if (filters.city && job.city !== filters.city) return false;
                    // å·¥ä½œç±»å‹ç­›é€‰
                    if (filters.jobType && job.type !== filters.jobType) return false;
                    // è–ªèµ„ç­›é€‰
                    if (filters.salary) {
                        const [min, max] = filters.salary.split('-').map(Number);
                        if (job.salaryPerHour < min || (max && job.salaryPerHour > max)) return false;
                    }
                    // æ ‡ç­¾ç­›é€‰
                    if (filters.tags.length) {
                        if (filters.tags.includes('remote') && !job.isRemote) return false;
                        if (filters.tags.includes('dailyPay') && job.settle !== 'æ—¥ç»“') return false;
                        if (filters.tags.includes('weekend') && job.time !== 'å‘¨æœ«' && job.time !== 'å‘¨æœ«å…¨å¤©') return false;
                    }
                    return true;
                });
                this.renderAll();
            },

            applyJob(jobId) {
                this.appliedJobIds.add(jobId);
                this.saveToLocalStorage();
                this.renderAll();
                alert('æŠ•é€’æˆåŠŸï¼å¯åœ¨"æˆ‘çš„æŠ•é€’"ä¸­æŸ¥çœ‹è¿›åº¦');
            },

            toggleCollect(jobId) {
                if (this.collectedJobIds.has(jobId)) {
                    this.collectedJobIds.delete(jobId);
                    alert('å·²å–æ¶ˆæ”¶è—');
                } else {
                    this.collectedJobIds.add(jobId);
                    alert('æ”¶è—æˆåŠŸï¼å¯åœ¨"æˆ‘çš„æ”¶è—"ä¸­æŸ¥çœ‹');
                }
                this.saveToLocalStorage();
                this.renderAll();
            },

            renderAll() {
                this.renderJobList();
                this.updateResultCount();
            },

            renderJobList() {
                const jobListEl = document.querySelector('.job-list');
                if (!jobListEl) return;

                jobListEl.innerHTML = this.filteredJobs.map(job => `
                    <div class="job-item" onclick="jobDataCenter.openJobDetail(${job.id})">
                        <div class="job-left">
                            <div class="job-title">
                                ${job.title}
                                <span class="job-tag">${job.type}</span>
                            </div>
                            <div class="job-info">
                                <div class="job-info-item">ğŸ“ ${job.location}</div>
                                <div class="job-info-item">â° ${job.time}</div>
                                <div class="job-info-item">ğŸ’´ ${job.settle}</div>
                                <div class="job-info-item">ğŸ“… ${job.publishDate}å‘å¸ƒ</div>
                            </div>
                            <div class="job-desc">${job.desc}</div>
                        </div>
                        <div class="job-right">
                            <div class="job-salary">${job.salary}</div>
                            <button class="job-btn" onclick="event.stopPropagation(); jobDataCenter.prepareDelivery(${job.id})"
                                ${this.appliedJobIds.has(job.id) ? 'disabled' : ''}>
                                ${this.appliedJobIds.has(job.id) ? 'å·²æŠ•é€’' : 'ç«‹å³æŠ•é€’'}
                            </button>
                            <button class="collect-btn ${this.collectedJobIds.has(job.id) ? 'active' : ''}"
                                onclick="event.stopPropagation(); jobDataCenter.toggleCollect(${job.id})">
                                <span class="collect-icon">â­</span>
                                ${this.collectedJobIds.has(job.id) ? 'å·²æ”¶è—' : 'æ”¶è—'}
                            </button>
                        </div>
                    </div>
                `).join('');
            },

            updateResultCount() {
                const countEl = document.querySelector('.result-count strong');
                if (countEl) {
                    countEl.textContent = this.filteredJobs.length;
                }
            },

            openJobDetail(jobId) {
                this.currentJobId = jobId;
                const job = this.allJobs.find(j => j.id === jobId);
                if (!job) return;

                const detailHtml = `
                    <div class="detail-grid">
                        <div class="detail-item">
                            <span class="detail-label">å·¥ä½œç±»å‹</span>
                            <span class="detail-value">${job.type}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å·¥ä½œåœ°ç‚¹</span>
                            <span class="detail-value">${job.location}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å·¥ä½œæ—¶é—´</span>
                            <span class="detail-value">${job.time}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ç»“ç®—æ–¹å¼</span>
                            <span class="detail-value">${job.settle}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">è–ªèµ„æ°´å¹³</span>
                            <span class="detail-value">${job.salary}</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">å‘å¸ƒæ—¶é—´</span>
                            <span class="detail-value">${job.publishDate}</span>
                        </div>
                    </div>
                    <h4>èŒä½æè¿°</h4>
                    <div class="detail-desc">${job.desc}</div>
                    <h4 style="margin-top: 15px;">ä»»èŒè¦æ±‚</h4>
                    <div class="detail-desc">${job.require}</div>
                    <h4 style="margin-top: 15px;">é›‡ä¸»ä¿¡æ¯</h4>
                    <div class="detail-desc">${job.employerName}</div>
                `;

                document.getElementById('detailTitle').textContent = job.title;
                document.getElementById('detailContent').innerHTML = detailHtml;
                document.querySelector('#jobDetailModal .btn-default').textContent = 
                    this.collectedJobIds.has(jobId) ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—';
                openModal('jobDetailModal');
            },

            // å‡†å¤‡æŠ•é€’ - æ‰“å¼€ç®€å†é€‰æ‹©å¼¹çª—
            prepareDelivery(jobId) {
                if (this.appliedJobIds.has(jobId)) {
                    alert('è¯¥èŒä½å·²æŠ•é€’ï¼Œè¯·å‹¿é‡å¤æŠ•é€’ï¼');
                    return;
                }
                this.currentJobId = jobId;
                this.selectedResumeId = null;
                renderResumeList();
                
                // è®¾ç½®å¼¹çª—æ ‡é¢˜ï¼Œæ˜¾ç¤ºèŒä½åç§°
                const job = this.allJobs.find(j => j.id === jobId);
                document.getElementById('resumeModalTitle').textContent = `é€‰æ‹©ç®€å†æŠ•é€’ - ${job.title}`;
                
                openModal('resumeSelectModal');
            }
        };

        // ç®€å†æ•°æ®
        const resumeData = [
            { id: 1, name: "é€šç”¨ç®€å†", type: "åŸºç¡€ç‰ˆ", updateTime: "2025-04-20" },
            { id: 2, name: "æ•™è‚²ç±»å…¼èŒç®€å†", type: "ä¸“ä¸šç‰ˆ", updateTime: "2025-05-01" },
            { id: 3, name: "è®¾è®¡ç±»å…¼èŒç®€å†", type: "ä¸“ä¸šç‰ˆ", updateTime: "2025-05-05" }
        ];

        // å¼¹çª—æ§åˆ¶
        function openModal(modalId) {
            document.getElementById(modalId).classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
            document.body.style.overflow = 'auto';
        }

        // æ‰“å¼€ç®€å†é€‰æ‹©å¼¹çª—ï¼ˆä»è¯¦æƒ…é¡µï¼‰
        function openResumeSelectModal() {
            closeModal('jobDetailModal');
            jobDataCenter.prepareDelivery(jobDataCenter.currentJobId);
        }

        // æ¸²æŸ“ç®€å†åˆ—è¡¨
        function renderResumeList() {
            const listEl = document.getElementById('resumeSelectList');
            listEl.innerHTML = resumeData.map(resume => `
                <div class="resume-select-item ${jobDataCenter.selectedResumeId === resume.id ? 'selected' : ''}"
                    onclick="selectResume(${resume.id})">
                    <div class="resume-select-info">
                        <div class="resume-select-name">${resume.name}</div>
                        <div class="resume-select-type">${resume.type} | æœ€åæ›´æ–°ï¼š${resume.updateTime}</div>
                    </div>
                    <div class="resume-select-check">âœ“</div>
                </div>
            `).join('');
        }

        // é€‰æ‹©ç®€å†
        function selectResume(resumeId) {
            jobDataCenter.selectedResumeId = resumeId;
            renderResumeList();
        }

        // ç¡®è®¤æŠ•é€’
        function confirmResumeSelection() {
            if (!jobDataCenter.selectedResumeId) {
                alert('è¯·é€‰æ‹©è¦æŠ•é€’çš„ç®€å†');
                return;
            }

            // æ‰§è¡ŒæŠ•é€’æ“ä½œ
            jobDataCenter.applyJob(jobDataCenter.currentJobId);
            
            // å…³é—­å¼¹çª—
            closeModal('resumeSelectModal');
            
            // é‡ç½®é€‰ä¸­çš„ç®€å†ID
            jobDataCenter.selectedResumeId = null;
        }

        // è¯¦æƒ…é¡µæ”¶è—åˆ‡æ¢
        function toggleDetailCollect() {
            jobDataCenter.toggleCollect(jobDataCenter.currentJobId);
            document.querySelector('#jobDetailModal .btn-default').textContent = 
                jobDataCenter.collectedJobIds.has(jobDataCenter.currentJobId) ? 'å–æ¶ˆæ”¶è—' : 'æ”¶è—';
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('DOMContentLoaded', () => {
            jobDataCenter.init();

            // æœç´¢æŒ‰é’®äº‹ä»¶
            document.querySelector('.search-btn').addEventListener('click', () => {
                const filters = {
                    keyword: document.getElementById('keyword').value,
                    city: document.getElementById('city').value,
                    jobType: document.getElementById('jobType').value,
                    salary: document.getElementById('salary').value,
                    tags: Array.from(document.querySelectorAll('.filter-tag.active'))
                        .filter(tag => tag.textContent !== 'å…¨éƒ¨å…¼èŒ')
                        .map(tag => {
                            switch(tag.textContent) {
                                case 'è¿œç¨‹å…¼èŒ': return 'remote';
                                case 'æ—¥ç»“å…¼èŒ': return 'dailyPay';
                                case 'å‘¨æœ«å…¼èŒ': return 'weekend';
                                default: return null;
                            }
                        }).filter(Boolean)
                };
                jobDataCenter.applyFilters(filters);
            });

            // ç­›é€‰æ ‡ç­¾ç‚¹å‡»äº‹ä»¶
            document.querySelectorAll('.filter-tag').forEach(tag => {
                tag.addEventListener('click', () => {
                    // å¤„ç†"å…¨éƒ¨å…¼èŒ"æ ‡ç­¾çš„äº’æ–¥é€»è¾‘
                    if (tag.textContent === 'å…¨éƒ¨å…¼èŒ') {
                        document.querySelectorAll('.filter-tag').forEach(t => t.classList.remove('active'));
                        tag.classList.add('active');
                    } else {
                        document.querySelector('.filter-tag').classList.remove('active');
                        tag.classList.toggle('active');
                    }
                });
            });
        });
    </script>
</body>
</html>