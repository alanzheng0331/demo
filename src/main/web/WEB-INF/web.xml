<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"
         version="4.0">

    <!-- 欢迎页面配置 -->
    <welcome-file-list>
        <welcome-file>index.html</welcome-file>
    </welcome-file-list>

    <!-- 错误页面配置 -->
    <error-page>
        <error-code>404</error-code>
        <location>/404.html</location>
    </error-page>
    <error-page>
        <error-code>500</error-code>
        <location>/500.html</location>
    </error-page>

    <!-- 会话配置 -->
    <session-config>
        <session-timeout>30</session-timeout> <!-- 会话超时时间30分钟 -->
    </session-config>

    <!-- 用户注册Servlet -->
    <servlet>
        <servlet-name>RegisterServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.RegisterServlet</servlet-class>
        <load-on-startup>1</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>RegisterServlet</servlet-name>
        <url-pattern>/registerProcess.jsp</url-pattern>
    </servlet-mapping>

    <!-- 用户登录Servlet -->
    <servlet>
        <servlet-name>LoginServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.LoginServlet</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>
    <servlet-mapping>
        <servlet-name>LoginServlet</servlet-name>
        <url-pattern>/loginProcess.jsp</url-pattern>
    </servlet-mapping>

    <!-- 验证码Servlet -->
    <servlet>
        <servlet-name>VerifyCodeServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.VerifyCodeServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>VerifyCodeServlet</servlet-name>
        <url-pattern>/verifyCodeServlet</url-pattern>
    </servlet-mapping>

    <!-- 文件上传Servlet（支持头像、简历等上传） -->
    <servlet>
        <servlet-name>FileUploadServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.FileUploadServlet</servlet-class>
        <multipart-config>
            <max-file-size>5242880</max-file-size>  <!-- 5MB，匹配头像上传2MB限制 -->
            <max-request-size>10485760</max-request-size>  <!-- 10MB -->
            <file-size-threshold>1048576</file-size-threshold>  <!-- 1MB -->
        </multipart-config>
    </servlet>
    <servlet-mapping>
        <servlet-name>FileUploadServlet</servlet-name>
        <url-pattern>/fileUpload</url-pattern>
    </servlet-mapping>

    <!-- 兼职管理Servlet（含敏感词拦截、兼职CRUD） -->
    <servlet>
        <servlet-name>JobServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.JobServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>JobServlet</servlet-name>
        <url-pattern>/jobManage</url-pattern>
    </servlet-mapping>

    <!-- 简历管理Servlet（含投递、审核、删除） -->
    <servlet>
        <servlet-name>ResumeServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.ResumeServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ResumeServlet</servlet-name>
        <url-pattern>/resumeManage</url-pattern>
    </servlet-mapping>

    <!-- 投递记录Servlet（含投递上限控制） -->
    <servlet>
        <servlet-name>ApplyServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.ApplyServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ApplyServlet</servlet-name>
        <url-pattern>/applyManage</url-pattern>
    </servlet-mapping>

    <!-- 职位搜索Servlet（对应search.html检索功能） -->
    <servlet>
        <servlet-name>SearchServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.SearchServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SearchServlet</servlet-name>
        <url-pattern>/jobSearch</url-pattern>
    </servlet-mapping>

    <!-- 系统设置Servlet（处理业务规则、注册规则等配置） -->
    <servlet>
        <servlet-name>SystemSettingServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.SystemSettingServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SystemSettingServlet</servlet-name>
        <url-pattern>/systemSetting</url-pattern>
    </servlet-mapping>

    <!-- 评价与信用分Servlet（处理好评/差评、信用分计算） -->
    <servlet>
        <servlet-name>ReviewServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.ReviewServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>ReviewServlet</servlet-name>
        <url-pattern>/reviewHandle</url-pattern>
    </servlet-mapping>

    <!-- 薪资查询Servlet（对应salary-query.html功能） -->
    <servlet>
        <servlet-name>SalaryServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.SalaryServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>SalaryServlet</servlet-name>
        <url-pattern>/salaryQuery</url-pattern>
    </servlet-mapping>

    <!-- 操作日志Servlet（处理日志记录与查询） -->
    <servlet>
        <servlet-name>LogServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.LogServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>LogServlet</servlet-name>
        <url-pattern>/operationLog</url-pattern>
    </servlet-mapping>

    <!-- 用户管理Servlet（处理账号注销等功能） -->
    <servlet>
        <servlet-name>UserServlet</servlet-name>
        <servlet-class>ALL_20252160A0925.D1_Servlet.UserServlet</servlet-class>
    </servlet>
    <servlet-mapping>
        <servlet-name>UserServlet</servlet-name>
        <url-pattern>/userManage</url-pattern>
    </servlet-mapping>
</web-app>